{% extends '::base.html.twig' %}

{% block title %}{{ entity.name|trans() }} - {{ parent() }}{% endblock %}

{% block header_javascripts %}
    {{ parent() }}
    <script type="text/javascript" src="{{ asset('static/js/modules/progress-bars.js') }}" ></script>
{% endblock %}

{% block body %}
    <section>

        <div class="aside-part wMosaic">
            {% set side_menu_vars = {'brands': true, 'categories': true} %}
            {% include "LittleBigJoeFrontendBundle:includes:aside/side-menu.html.twig" with side_menu_vars %}
        </div>

        <article class="wMosaic">
            <div class="article-header">
                <h1>{{ title|trans() }}</h1>
            </div>

            {% if projects and projects.items|length > 0 %}
                {% for project in projects %}
                    <div class="mosaic-container">
                        {% set mosaic_pres_vars = {'project': project} %}
                        {% include "LittleBigJoeFrontendBundle:includes:pres/mosaic-pres.html.twig" with mosaic_pres_vars %}
                    </div>
                {% endfor %}

                <div class="article-footer">
                    {{ knp_pagination_render(projects) }}
                </div>
            {% else %}
                <p>{{ 'There\'s no projects for the moment'|trans() }}</p>
            {% endif %}
        </article>

    </section>
{% endblock %}